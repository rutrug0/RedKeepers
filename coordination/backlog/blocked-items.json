[
  {
    "id": "RK-M1-0001-ESC",
    "title": "Escalation: Backend modular monolith scaffold spec",
    "description": "Investigate repeated failure for item RK-M1-0001. Reason: Codex CLI command not found: codex",
    "milestone": "M1",
    "type": "qa",
    "priority": "high",
    "owner_role": "lead",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "coordination/runtime/run-history.jsonl",
      "coordination/backlog/work-items.json"
    ],
    "acceptance_criteria": [
      "Root cause identified",
      "Follow-up work items created or item unblocked"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 3,
    "created_at": "2026-02-25T13:10:33.143783+00:00",
    "updated_at": "2026-02-25T13:45:50.881931+00:00",
    "estimated_effort": "S",
    "token_budget": 6000,
    "result_summary": null,
    "blocker_reason": "Superseded escalation-chain artifact from pre-Codex-bootstrap-fix incident; retained for audit only.",
    "escalation_target": "Mara Voss",
    "source_item_id": "RK-M1-0001",
    "assigned_agent": "mara-voss",
    "last_failure_reason": "Codex CLI command not found: codex",
    "superseded_by": "RK-M0-0004"
  },
  {
    "id": "RK-M1-0001-ESC-ESC",
    "title": "Escalation: Escalation: Backend modular monolith scaffold spec",
    "description": "Investigate repeated failure for item RK-M1-0001-ESC. Reason: Codex CLI command not found: codex",
    "milestone": "M1",
    "type": "qa",
    "priority": "high",
    "owner_role": "lead",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "coordination/runtime/run-history.jsonl",
      "coordination/backlog/work-items.json"
    ],
    "acceptance_criteria": [
      "Root cause identified",
      "Follow-up work items created or item unblocked"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 3,
    "created_at": "2026-02-25T13:10:48.285708+00:00",
    "updated_at": "2026-02-25T13:45:50.881931+00:00",
    "estimated_effort": "S",
    "token_budget": 6000,
    "result_summary": null,
    "blocker_reason": "Superseded escalation-chain artifact from pre-Codex-bootstrap-fix incident; retained for audit only.",
    "escalation_target": "Mara Voss",
    "source_item_id": "RK-M1-0001-ESC",
    "assigned_agent": "mara-voss",
    "last_failure_reason": "Codex CLI command not found: codex",
    "superseded_by": "RK-M0-0004"
  },
  {
    "id": "RK-M1-0001-ESC-ESC-ESC",
    "title": "Escalation: Escalation: Escalation: Backend modular monolith scaffold spec",
    "description": "Investigate repeated failure for item RK-M1-0001-ESC-ESC. Reason: Codex CLI command not found: codex",
    "milestone": "M1",
    "type": "qa",
    "priority": "high",
    "owner_role": "lead",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "coordination/runtime/run-history.jsonl",
      "coordination/backlog/work-items.json"
    ],
    "acceptance_criteria": [
      "Root cause identified",
      "Follow-up work items created or item unblocked"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 3,
    "created_at": "2026-02-25T13:11:03.380870+00:00",
    "updated_at": "2026-02-25T13:45:50.881931+00:00",
    "estimated_effort": "S",
    "token_budget": 6000,
    "result_summary": null,
    "blocker_reason": "Superseded escalation-chain artifact from pre-Codex-bootstrap-fix incident; retained for audit only.",
    "escalation_target": "Mara Voss",
    "source_item_id": "RK-M1-0001-ESC-ESC",
    "assigned_agent": "mara-voss",
    "last_failure_reason": "Codex CLI command not found: codex",
    "superseded_by": "RK-M0-0004"
  },
  {
    "id": "RK-M1-0001-ESC-ESC-ESC-ESC",
    "title": "Escalation: Escalation: Escalation: Escalation: Backend modular monolith scaffold spec",
    "description": "Investigate repeated failure for item RK-M1-0001-ESC-ESC-ESC. Reason: Codex CLI command not found: codex",
    "milestone": "M1",
    "type": "qa",
    "priority": "high",
    "owner_role": "lead",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "coordination/runtime/run-history.jsonl",
      "coordination/backlog/work-items.json"
    ],
    "acceptance_criteria": [
      "Root cause identified",
      "Follow-up work items created or item unblocked"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 2,
    "created_at": "2026-02-25T13:11:18.456863+00:00",
    "updated_at": "2026-02-25T13:45:50.881931+00:00",
    "estimated_effort": "S",
    "token_budget": 6000,
    "result_summary": null,
    "blocker_reason": "Superseded escalation-chain artifact from pre-Codex-bootstrap-fix incident; retained for audit only.",
    "escalation_target": "Mara Voss",
    "source_item_id": "RK-M1-0001-ESC-ESC-ESC",
    "assigned_agent": "mara-voss",
    "last_failure_reason": "Codex CLI command not found: codex",
    "recovered_from_stale_in_progress": true,
    "superseded_by": "RK-M0-0004"
  },
  {
    "id": "RK-M0-0003",
    "title": "Add Codex CLI bootstrap preflight for Windows worker invocation",
    "description": "Prevent repeat infrastructure failures by validating the configured Codex command with Windows-compatible executable resolution and documenting the `codex` vs `codex.cmd` npm shim behavior.",
    "milestone": "M0",
    "type": "qa",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": "tomas-grell",
    "dependencies": [
      "RK-M0-0001"
    ],
    "inputs": [
      "tools/health_checks.py",
      "tools/codex_worker.py",
      "docs/operations/daemon-usage.md"
    ],
    "acceptance_criteria": [
      "Daemon preflight catches invalid/unresolvable Codex command before queue processing",
      "Windows npm shim case (`codex` vs `codex.cmd`) is documented with remediation",
      "Failure message points to `REDKEEPERS_CODEX_COMMAND` override"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "blocked",
    "retry_count": 0,
    "created_at": "2026-02-25T13:17:16.1177208Z",
    "updated_at": "2026-02-25T13:52:06.474119+00:00",
    "estimated_effort": "S",
    "token_budget": 7000,
    "result_summary": null,
    "blocker_reason": "- The Windows npm shim documentation was already present in `docs/operations/daemon-usage.md` and required no additional edits.",
    "escalation_target": "Mara Voss",
    "assigned_agent": "tomas-grell",
    "last_failure_reason": null,
    "requeue_reason": "Requeued after Codex CLI Windows bootstrap fixes and backlog cleanup"
  },
  {
    "id": "RK-M1-0002",
    "title": "Web client cross-platform packaging decision note",
    "description": "Document early Steam and Android packaging options and constraints for a web-first client.",
    "milestone": "M1",
    "type": "design",
    "priority": "normal",
    "owner_role": "frontend",
    "preferred_agent": "sera-kest",
    "dependencies": [],
    "inputs": [
      "docs/architecture/client-cross-platform-strategy.md"
    ],
    "acceptance_criteria": [
      "Steam path documented",
      "Android path documented",
      "Tradeoffs and recommended defaults stated"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 0,
    "created_at": "2026-02-25T13:01:17.669127+00:00",
    "updated_at": "2026-02-25T13:53:14.734785+00:00",
    "estimated_effort": "S",
    "token_budget": 9000,
    "result_summary": null,
    "blocker_reason": "- `agents/sera-kest/outbox.json` parses successfully (`ConvertFrom-Json`)",
    "escalation_target": "Mara Voss",
    "assigned_agent": "sera-kest",
    "last_failure_reason": "Codex CLI command not found: codex",
    "requeue_reason": "Requeued after Codex CLI Windows bootstrap fixes and backlog cleanup"
  },
  {
    "id": "RK-M1-0001",
    "title": "Backend modular monolith scaffold spec",
    "description": "Draft initial backend module layout and interfaces for auth, world, economy, and combat under a single service deployable.",
    "milestone": "M1",
    "type": "design",
    "priority": "normal",
    "owner_role": "backend",
    "preferred_agent": "ilya-fen",
    "dependencies": [],
    "inputs": [
      "docs/architecture/backend-modular-monolith.md"
    ],
    "acceptance_criteria": [
      "Module boundaries and interfaces listed",
      "M1 bootstrap implementation steps defined",
      "Assumptions and deferred decisions documented"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 0,
    "created_at": "2026-02-25T13:01:17.669127+00:00",
    "updated_at": "2026-02-25T13:55:55.993625+00:00",
    "estimated_effort": "M",
    "token_budget": 12000,
    "result_summary": null,
    "blocker_reason": "- None",
    "escalation_target": "Mara Voss",
    "assigned_agent": "ilya-fen",
    "last_failure_reason": "Codex CLI command not found: codex",
    "requeue_reason": "Requeued after Codex CLI Windows bootstrap fixes and backlog cleanup"
  },
  {
    "id": "RK-M0-0002",
    "title": "Add daemon smoke checks for environment validation",
    "description": "Expand health checks and add a small smoke test script or documented manual checks for queue/policy/state validation.",
    "milestone": "M0",
    "type": "qa",
    "priority": "normal",
    "owner_role": "qa",
    "preferred_agent": "tomas-grell",
    "dependencies": [
      "RK-M0-0001"
    ],
    "inputs": [
      "tools/health_checks.py",
      "docs/operations/daemon-usage.md"
    ],
    "acceptance_criteria": [
      "Health checks validate required files",
      "Smoke validation path documented or scripted",
      "No change to high-level CLI output defaults"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "blocked",
    "retry_count": 0,
    "created_at": "2026-02-25T13:01:17.669127+00:00",
    "updated_at": "2026-02-25T13:58:11.368201+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": "- No changes were made to high-level CLI output defaults.",
    "escalation_target": "Mara Voss",
    "assigned_agent": "tomas-grell",
    "last_failure_reason": "Codex CLI command not found: codex",
    "requeue_reason": "Requeued after Codex CLI Windows bootstrap fixes and backlog cleanup"
  },
  {
    "id": "RK-M1-0008-F01",
    "title": "Run browser-based visual smoke pass for M1 client shell breakpoints",
    "description": "Execute the documented manual checklist for the client shell at desktop/tablet/mobile widths and confirm placeholder-art-only compliance with screenshots or notes.",
    "milestone": "M1",
    "type": "feature",
    "priority": "normal",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0008"
    ],
    "inputs": [
      "agents/tomas-grell/manual-verification-rk-m1-0008.md",
      "client-web/index.html",
      "client-web/styles.css",
      "docs/design/first-vertical-slice.md"
    ],
    "acceptance_criteria": [
      "Manual verification checklist in agents/tomas-grell/manual-verification-rk-m1-0008.md is executed in a browser",
      "Responsive behavior at >=1221px, 861-1220px, and <=860px is recorded with pass/fail notes",
      "Placeholder-art policy compliance is explicitly confirmed or violations are logged"
    ],
    "validation_commands": [],
    "status": "blocked",
    "retry_count": 0,
    "created_at": "2026-02-25T15:21:48.485313+00:00",
    "updated_at": "2026-02-25T16:19:36.084046+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": "- `agents/tomas-grell/outbox.json`: appended blocked run summary and structured follow-up task for daemon ingestion.",
    "escalation_target": "Mara Voss",
    "generated_by_agent": "tomas-grell",
    "generated_from_item_id": "RK-M1-0008",
    "assigned_agent": "tomas-grell"
  },
  {
    "id": "RK-M1-0004-F01-F01-F01",
    "title": "Add automated contract smoke tests for reference bootstrap adapters",
    "description": "Add lightweight tests around the temporary reference `ServiceRegistry`, `InProcessEventBus`, and bootstrap composer to lock expected contract behavior (duplicate registration failure, subscribe/unsubscribe delivery, lifecycle hook collection) while the production runtime stack is still deferred.",
    "milestone": "M1",
    "type": "feature",
    "priority": "low",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0004-F01-F01"
    ],
    "inputs": [
      "backend/src/app/reference/*.ts",
      "backend/src/app/composition.ts",
      "backend/src/shared/events.ts"
    ],
    "acceptance_criteria": [
      "Tests cover successful placeholder module composition through `ReferenceApplicationBootstrap` with lifecycle hook collection",
      "Tests verify `InMemoryEventBus` publish/subscribe and unsubscribe behavior for a single event type",
      "Tests verify `InMemoryServiceRegistry` resolve/tryResolve behavior and duplicate registration failure"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "blocked",
    "retry_count": 3,
    "created_at": "2026-02-25T15:47:51.688098+00:00",
    "updated_at": "2026-02-25T17:54:39.876491+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": "Repeated failure: ERROR: {\"detail\":\"The 'GPT-5.3-Codex-Spark' model is not supported when using Codex with a ChatGPT account.\"}",
    "escalation_target": "Mara Voss",
    "generated_by_agent": "ilya-fen",
    "generated_from_item_id": "RK-M1-0004-F01-F01",
    "assigned_agent": "ilya-fen",
    "last_failure_reason": "ERROR: {\"detail\":\"The 'GPT-5.3-Codex-Spark' model is not supported when using Codex with a ChatGPT account.\"}"
  }
]
