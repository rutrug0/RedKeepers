[
  {
    "id": "RK-M1-0007-F02-F01",
    "title": "Add typed backend loaders and validation helpers for v1 narrative seed tables",
    "description": "Implement framework-agnostic loader/parser utilities for the new narrative JSON tables and enforce the shared narrative row shape (required fields, unique keys per table, token list consistency with template placeholders) at startup or in tests.",
    "milestone": "M1",
    "type": "feature",
    "priority": "low",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0007-F02"
    ],
    "inputs": [
      "backend/src/app/config/seeds/v1/narrative/*.json",
      "backend/src/app/config/seeds/v1/narrative/narrative-template-table.schema.json"
    ],
    "acceptance_criteria": [
      "Backend exposes typed loaders/parsers for `civilization-intros.json`, `starter-settlement-name-pool.json`, and `event-feed-messages.json`",
      "Validation rejects missing required narrative fields (`key`, `slice_status_scope`, `categories`, `related_ids`, `template`, `tokens`) and duplicate row keys within a table",
      "Validation checks template token placeholders match the declared `tokens` array order/uniqueness",
      "No gameplay mechanics are added; work remains data loading/validation only"
    ],
    "validation_commands": [],
    "status": "validating",
    "retry_count": 0,
    "created_at": "2026-02-25T16:09:20.320370+00:00",
    "updated_at": "2026-02-25T18:04:36.264102+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "ilya-fen",
    "generated_from_item_id": "RK-M1-0007-F02",
    "assigned_agent": "ilya-fen"
  },
  {
    "id": "RK-M1-0004-F01-F01-F01-ESC-F01-F01",
    "title": "Add regression tests for codex model access preflight paths",
    "description": "Create focused tests that cover startup status preflight failures, fallback selection preflight behavior, and blocked run_history/model_stats fields for unsupported model profiles.",
    "milestone": "M1",
    "type": "feature",
    "priority": "normal",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "tests package"
    ],
    "inputs": [
      "tools/codex_worker.py",
      "tools/health_checks.py",
      "tools/orchestrator.py",
      "tests"
    ],
    "acceptance_criteria": [
      "status validation fails fast with exact unsupported-model reason when policy model is inaccessible and no usable fallback exists",
      "execution selects configured fallback when primary model preflight fails and proceeds to run",
      "blocked run_history and model-stats entries include model_requested/model_used/fallback fields"
    ],
    "validation_commands": [
      "python -m unittest discover -s tests"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:01:08.893118+00:00",
    "updated_at": "2026-02-25T18:01:08.893118+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "tomas-grell",
    "generated_from_item_id": "RK-M1-0004-F01-F01-F01-ESC-F01"
  }
]
