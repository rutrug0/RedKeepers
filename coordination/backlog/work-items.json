[
  {
    "id": "RK-AUTO-BACKLOG-0008-F01",
    "title": "Publish machine-readable hostile runtime token contract for first-slice events",
    "description": "Create a machine-readable hostile-loop runtime token contract artifact that locks canonical keys, required token fields, and compatibility aliases for first-slice dispatch/arrive/resolve/post-battle events.",
    "milestone": "M0",
    "type": "feature",
    "priority": "normal",
    "owner_role": "design",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0007-F04-F01"
    ],
    "inputs": [
      "docs/design/first-slice-event-token-contract-matrix.md",
      "backend/src/app/config/seeds/v1/narrative/first-slice-content-key-manifest.json",
      "docs/design/first-vertical-slice.md"
    ],
    "acceptance_criteria": [
      "A machine-readable hostile token contract artifact exists and enumerates canonical hostile dispatch/resolve/post-battle keys required in first-slice runtime payloads",
      "Each key defines required token names and compatibility alias expectations without promoting alias-only keys to default selection",
      "Contract explicitly excludes deferred post-slice hero/gather/ambush keys and stays within first-vertical-slice scope"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959007+00:00",
    "updated_at": "2026-02-27T11:14:57.959007+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0008-F02",
    "title": "Enforce hostile runtime payload token contract in backend attack service tests",
    "description": "Apply hostile runtime token contract assertions to world-map hostile attack runtime payload emission so dispatch/arrival/combat events always include required canonical token fields.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0007-F04-F01",
      "RK-AUTO-BACKLOG-0008-F01"
    ],
    "inputs": [
      "backend/src/modules/world_map/application/world-map-hostile-attack-service.ts",
      "backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts",
      "docs/design/first-slice-hostile-runtime-token-contract.json"
    ],
    "acceptance_criteria": [
      "Hostile dispatch payload includes canonical required tokens (`army_name`, `target_tile_label`, `eta_seconds`) without requiring legacy alias token shapes",
      "Hostile arrival/combat/post-battle runtime payload token sets match the machine-readable hostile token contract for canonical keys",
      "Backend tests fail deterministically when hostile runtime payload keys or required token names drift"
    ],
    "validation_commands": [
      "node --test --test-concurrency=1 --test-isolation=none backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959007+00:00",
    "updated_at": "2026-02-27T11:14:57.959007+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0008-F03",
    "title": "Align hostile narrative seed templates with locked runtime token contract",
    "description": "Update hostile-loop placeholder narrative seed rows so canonical first-slice hostile keys and token lists align with the locked runtime token contract while keeping aliases compatibility-only.",
    "milestone": "M0",
    "type": "feature",
    "priority": "normal",
    "owner_role": "content",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0008-F01"
    ],
    "inputs": [
      "backend/src/app/config/seeds/v1/narrative/event-feed-messages.json",
      "docs/content/placeholder-narrative-seed-pack-v1.md",
      "docs/design/first-slice-hostile-runtime-token-contract.json"
    ],
    "acceptance_criteria": [
      "Hostile-loop canonical content keys in narrative seeds match required token names from the hostile runtime token contract",
      "Alias-only hostile keys remain supported for compatibility lookup but are not introduced into default first-session canonical selection",
      "No new out-of-scope mechanics or post-slice keys are introduced into first-slice default seed usage"
    ],
    "validation_commands": [
      "node --test --test-concurrency=1 --test-isolation=none backend/src/app/config/seeds/v1/first-slice-narrative-template-snapshot.test.ts"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959007+00:00",
    "updated_at": "2026-02-27T11:14:57.959007+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0008-F04",
    "title": "Use hostile token contract for deterministic frontend event-feed rendering",
    "description": "Update frontend hostile event-feed key/token handling to consume the hostile runtime token contract so canonical hostile keys render deterministically and alias handling stays compatibility-only.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "frontend",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0008-F02",
      "RK-AUTO-BACKLOG-0008-F03"
    ],
    "inputs": [
      "client-web/app.js",
      "client-web/first-slice-manifest-snapshot.js",
      "docs/design/first-slice-hostile-runtime-token-contract.json"
    ],
    "acceptance_criteria": [
      "Frontend hostile dispatch/arrival/combat/post-battle feed rendering resolves canonical hostile keys and expected token substitutions without missing-template markers",
      "Legacy hostile alias keys resolve through deterministic compatibility mapping and do not override canonical default key selection",
      "When hostile payload tokens are incomplete, frontend fallback messaging remains deterministic and action-scoped"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959507+00:00",
    "updated_at": "2026-02-27T11:14:57.959507+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0008-F05",
    "title": "Add hostile token-contract stage to first-slice release gate runner",
    "description": "Extend the single-command first-slice release gate to run a dedicated hostile token-contract validation stage and include its disposition in gate evidence output.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "platform",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0008-F04"
    ],
    "inputs": [
      "tools/first_slice_release_gate_runner.py",
      "docs/operations/first-slice-release-gate.md",
      "coordination/runtime/first-slice-release-gate/"
    ],
    "acceptance_criteria": [
      "Release gate runner executes a hostile token-contract validation stage in deterministic order with existing playable/quality/platform stages",
      "Gate evidence artifacts include explicit PASS/FAIL summary for hostile token-contract validation",
      "Runner exits non-zero when hostile token-contract stage fails"
    ],
    "validation_commands": [
      "python tools/first_slice_release_gate_runner.py"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959507+00:00",
    "updated_at": "2026-02-27T11:14:57.959507+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0008-F06",
    "title": "Run release-blocking hostile token-contract gate and publish evidence",
    "description": "Execute the updated first-slice release gate (including hostile token-contract stage) and publish disposition evidence with owner-tagged blockers for any failing stage.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0008-F05"
    ],
    "inputs": [
      "tools/first_slice_release_gate_runner.py",
      "coordination/runtime/first-slice-release-gate/",
      "docs/design/vertical-slice-done-v1.md"
    ],
    "acceptance_criteria": [
      "Gate run records PASS/FAIL for playable, quality, platform, and hostile token-contract stages in evidence artifacts",
      "Any failing stage is documented with actionable blocker ownership rather than generic failure text",
      "Evidence links and disposition summary are published in the run result for daemon operators"
    ],
    "validation_commands": [
      "python tools/first_slice_release_gate_runner.py",
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:14:57.959507+00:00",
    "updated_at": "2026-02-27T11:14:57.959507+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0008"
  },
  {
    "id": "RK-AUTO-BACKLOG-0007-F04-F01-ESC-F01",
    "title": "Normalize world-map TypeScript runtime compatibility for direct Node test execution",
    "description": "Resolve pre-existing world-map TypeScript runtime incompatibilities so the canonical targeted hostile attack test command runs without syntax/import loader failures in this repo environment.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [
      "RK-AUTO-BACKLOG-0007-F04-F01-ESC"
    ],
    "inputs": [
      "backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts",
      "backend/src/modules/world_map/application/world-map-march-dispatch-service.ts",
      "backend/src/modules/world_map/domain/",
      "backend/src/modules/world_map/application/"
    ],
    "acceptance_criteria": [
      "A canonical validation command for `world-map-hostile-attack-service.test.ts` executes without `ERR_UNSUPPORTED_TYPESCRIPT_SYNTAX` and without `ERR_UNSUPPORTED_DIR_IMPORT`.",
      "Any required import-path/syntax updates are limited to runtime compatibility and do not alter first-slice hostile gameplay behavior.",
      "The selected command is documented in the work-item result for deterministic reuse."
    ],
    "validation_commands": [
      "node --test --test-concurrency=1 --test-isolation=none backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts"
    ],
    "status": "validating",
    "retry_count": 0,
    "created_at": "2026-02-27T11:21:14.869554+00:00",
    "updated_at": "2026-02-27T11:26:13.400812+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0007-F04-F01-ESC",
    "assigned_agent": "ilya-fen"
  },
  {
    "id": "RK-AUTO-BACKLOG-0007-F04-F01-ESC-F02",
    "title": "Replay and close hostile dispatch canonical-token alignment after runtime compatibility fix",
    "description": "Re-apply/verify canonical hostile dispatch payload token emission (`army_name`, `target_tile_label`, `eta_seconds`) and close the blocked source item once runtime-compatible validation is available.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "backend/src/modules/world_map/application/world-map-hostile-attack-service.ts",
      "backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts",
      "docs/design/first-slice-event-token-contract-matrix.md",
      "coordination/backlog/blocked-items.json"
    ],
    "acceptance_criteria": [
      "Dispatch runtime payload for `event.world.hostile_dispatch_en_route` includes canonical token fields required by first-slice contract.",
      "Targeted hostile attack service test assertions cover canonical dispatch token shape and pass under the stabilized runtime command.",
      "Blocked source item `RK-AUTO-BACKLOG-0007-F04-F01` is resolved (completed or cleanly superseded) to unblock dependent work."
    ],
    "validation_commands": [
      "node --test --test-concurrency=1 --test-isolation=none backend/src/modules/world_map/application/world-map-hostile-attack-service.test.ts",
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-27T11:21:14.869554+00:00",
    "updated_at": "2026-02-27T11:21:20.167845+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0007-F04-F01-ESC"
  }
]
