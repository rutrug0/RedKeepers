[
  {
    "id": "RK-M0-0008",
    "title": "Wire client shell actions to first-slice backend contracts",
    "description": "Add a thin client adapter layer so settlement tick, build, and train actions invoke backend-first-slice contract endpoints/stubs and update mock state/event feed.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "frontend",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0005",
      "RK-M0-0006",
      "RK-M0-0007"
    ],
    "inputs": [
      "client-web/app.js",
      "client-web/styles.css",
      "client-web/index.html"
    ],
    "acceptance_criteria": [
      "Tick/build/train buttons call a dedicated adapter method and reflect changed values in the settlement panel state",
      "Client displays placeholder outcomes for success and failure paths from handler payloads",
      "Event feed appends mapped event keys for backend action responses in placeholder format"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:15:22.000000+00:00",
    "updated_at": "2026-02-25T18:15:22.000000+00:00",
    "estimated_effort": "M",
    "token_budget": 12000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss"
  },
  {
    "id": "RK-M0-0011",
    "title": "Add first-slice loop smoke checks across backend contracts and client actions",
    "description": "Create lightweight automated checks that assert the first-slice settlement tick/build/train/scout contracts are wired end-to-end with deterministic placeholders.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-M0-0006",
      "RK-M0-0007",
      "RK-M0-0008",
      "RK-M0-0010",
      "RK-M0-0009"
    ],
    "inputs": [
      "tests/",
      "backend/",
      "client-web/",
      "docs/design/first-vertical-slice.md"
    ],
    "acceptance_criteria": [
      "At least one automated check validates each of tick, upgrade, train, and scout flow touchpoints",
      "Negative-path assertion covers insufficient resources and one unavailable-state condition",
      "Check output is deterministic and includes a simple pass/fail summary for the first-slice slice readiness"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:15:22.000000+00:00",
    "updated_at": "2026-02-25T18:15:22.000000+00:00",
    "estimated_effort": "M",
    "token_budget": 12000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss"
  },
  {
    "id": "RK-M1-0005-F02-F01-ESC-F01",
    "title": "Add queued-item model-policy drift audit after policy updates",
    "description": "Add a lightweight daemon audit pass that scans queued items after model-policy changes and flags/remediates any item that would still resolve to unsupported model/fallback combinations.",
    "milestone": "M1",
    "type": "feature",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0004-F01-F01-F01-ESC-F01",
      "RK-M1-0004-F01-F01-F01-ESC-F01-F01"
    ],
    "inputs": [
      "tools/orchestrator.py",
      "tools/codex_worker.py",
      "coordination/policies/model-policy.yaml",
      "coordination/runtime/run-history.jsonl"
    ],
    "acceptance_criteria": [
      "Audit identifies queued items whose resolved model and fallback are both inaccessible in current account context",
      "Daemon emits a clear remediation hint and avoids repeated retry loops for those items",
      "At least one regression test covers a stale queued item created before a policy change"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:23:43.800840+00:00",
    "updated_at": "2026-02-25T18:23:43.800840+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-M1-0005-F02-F01-ESC"
  },
  {
    "id": "RK-M0-0012",
    "title": "Expose first-slice settlement loop contract endpoints",
    "description": "Implement backend-facing contract adapters for settlement tick, building upgrade, unit train, and scout actions so the client loop can call stable first-slice request/response shapes.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [
      "RK-M0-0006",
      "RK-M0-0007",
      "RK-M0-0009"
    ],
    "inputs": [],
    "acceptance_criteria": [
      "Contract adapters expose deterministic request/response payloads for tick, upgrade, train, and scout actions",
      "Responses include stable placeholder event keys and state deltas suitable for client binding",
      "Failure paths map `insufficient_resources`, `cooldown`, and `unavailable_tile` to consistent error codes without adding PvP/diplomacy logic"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:32:27.509162+00:00",
    "updated_at": "2026-02-25T18:32:27.509162+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003"
  },
  {
    "id": "RK-M0-0013",
    "title": "Add action availability gating and cooldown feedback in client shell",
    "description": "Update settlement and map controls to react to backend contract state so build/train/scout actions show deterministic disabled states and placeholder reason feedback.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "frontend",
    "preferred_agent": null,
    "dependencies": [
      "RK-M0-0008",
      "RK-M0-0012",
      "RK-M0-0010"
    ],
    "inputs": [],
    "acceptance_criteria": [
      "Build/train/scout controls disable when contract responses indicate insufficient resources, cooldown, or unavailable tile outcomes",
      "Placeholder reason text is rendered from stable event/content keys rather than hard-coded strings",
      "Control state and feedback behavior works at existing desktop and mobile breakpoints without adding new mechanics"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:32:27.509162+00:00",
    "updated_at": "2026-02-25T18:32:27.509162+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003"
  },
  {
    "id": "RK-M0-0016",
    "title": "Automate first-slice visual smoke baselines across desktop/tablet/mobile",
    "description": "Run and integrate `tools/frontend_visual_smoke.py` for first-slice UI checks so multi-device screenshots and baseline diffs cover core settlement/map/feed interactions.",
    "milestone": "M0",
    "type": "feature",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-M0-0011",
      "RK-M0-0013"
    ],
    "inputs": [],
    "acceptance_criteria": [
      "Automated smoke run captures desktop, tablet, and mobile screenshots with baseline comparison output",
      "Coverage includes at least one success path and one failure path for build/train/scout action feedback",
      "Run output provides deterministic pass/fail summary and artifact paths for review"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T18:32:27.509162+00:00",
    "updated_at": "2026-02-25T18:32:27.509162+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003"
  },
  {
    "id": "RK-M1-0005-F02-F01-ESC-F03-ESC-F01",
    "title": "Stabilize baseline unittest discover failures in daemon smoke and client scaffold tests",
    "description": "Resolve existing unrelated failures in `tests/test_daemon_smoke_env.py` and `tests/test_m1_scaffold_smoke.py` so full regression validation is green and does not re-escalate completed feature work.",
    "milestone": "M1",
    "type": "feature",
    "priority": "high",
    "owner_role": "qa",
    "preferred_agent": null,
    "dependencies": [
      "RK-M1-0005-F02-F01-ESC-F03"
    ],
    "inputs": [
      "tests/test_daemon_smoke_env.py",
      "tests/test_m1_scaffold_smoke.py",
      "tools/health_checks.py",
      "client-web/index.html"
    ],
    "acceptance_criteria": [
      "`python -m unittest discover -s tests` passes without failures in `tests/test_daemon_smoke_env.py`",
      "`python -m unittest discover -s tests` passes without failures in `tests/test_m1_scaffold_smoke.py`",
      "Updated assertions reflect current first-slice contract (runtime vs state required-file semantics, current placeholder shell markup) without expanding product scope"
    ],
    "validation_commands": [
      "python -m unittest discover -s tests"
    ],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-25T19:22:20.979650+00:00",
    "updated_at": "2026-02-25T19:22:20.979650+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "mara-voss",
    "generated_from_item_id": "RK-M1-0005-F02-F01-ESC-F03-ESC"
  },
  {
    "id": "RK-AUTO-BACKLOG-0003-F01-F01",
    "title": "Finalize M2 hero definitions and shared ability modifier table",
    "description": "Convert the deferred hero concept into data-table ready definitions (hero IDs, unlock gate, active ability effects, cooldown targets) without introducing bespoke mechanics.",
    "milestone": "M2",
    "type": "feature",
    "priority": "normal",
    "owner_role": "design",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "docs/design/m2-hero-units-prototype-concept.md",
      "docs/design/v1-starter-data-tables.md",
      "docs/design/vertical-slice-done-v1.md"
    ],
    "acceptance_criteria": [
      "Hero definitions are expressed as IDs and numeric modifiers compatible with existing stat-driven model",
      "Exactly one active ability per civilization hero is defined for prototype scope",
      "Unlock gate is post-onboarding and does not alter first-slice tutorial flow"
    ],
    "validation_commands": [],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-26T11:43:39.057865+00:00",
    "updated_at": "2026-02-26T11:43:39.683633+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "rowan-hale",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003-F01"
  },
  {
    "id": "RK-AUTO-BACKLOG-0003-F01-F02",
    "title": "Design hero UI wireframes for assignment, ability use, and cooldown feedback",
    "description": "Create placeholder-first wireframes for hero roster card, army dispatch ability slot, and event/combat feedback surfaces defined in the concept doc.",
    "milestone": "M2",
    "type": "feature",
    "priority": "normal",
    "owner_role": "frontend",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "docs/design/m2-hero-units-prototype-concept.md",
      "docs/design/ui-style-guide.md"
    ],
    "acceptance_criteria": [
      "Wireframes cover settlement hero card, dispatch modal controls, and feedback/event states",
      "Cooldown readability and effect clarity are visible before action commit",
      "All visuals remain placeholder/wireframe quality and avoid final art dependencies"
    ],
    "validation_commands": [],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-26T11:43:39.057865+00:00",
    "updated_at": "2026-02-26T11:43:39.683633+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "rowan-hale",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003-F01"
  },
  {
    "id": "RK-AUTO-BACKLOG-0003-F01-F03",
    "title": "Plan backend hero runtime schema and combat hook integration",
    "description": "Prepare schema and resolver plan for hero assignment state, active ability cooldowns, and combat/scout modifier application using existing action-resolution flow.",
    "milestone": "M2",
    "type": "feature",
    "priority": "normal",
    "owner_role": "backend",
    "preferred_agent": null,
    "dependencies": [],
    "inputs": [
      "docs/design/m2-hero-units-prototype-concept.md",
      "backend/src/modules"
    ],
    "acceptance_criteria": [
      "Schema plan includes hero readiness/cooldown state and assignment linkage to army context",
      "Ability effects apply through shared numeric modifier pipeline rather than bespoke combat paths",
      "Event keys for assignment/activation/cooldown completion are defined for client consumption"
    ],
    "validation_commands": [],
    "status": "queued",
    "retry_count": 0,
    "created_at": "2026-02-26T11:43:39.057865+00:00",
    "updated_at": "2026-02-26T11:43:39.683633+00:00",
    "estimated_effort": "S",
    "token_budget": 8000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "generated_by_agent": "rowan-hale",
    "generated_from_item_id": "RK-AUTO-BACKLOG-0003-F01"
  },
  {
    "id": "RK-AUTO-STALL-0006",
    "title": "Resolve queue dependency stall",
    "description": "The daemon detected queued work items that are not dependency-ready because one or more dependencies are currently blocked. Review blocked items, requeue/close obsolete items, and restore runnable work.",
    "milestone": "M0",
    "type": "qa",
    "priority": "high",
    "owner_role": "lead",
    "preferred_agent": "mara-voss",
    "dependencies": [],
    "inputs": [
      "coordination/backlog/work-items.json",
      "coordination/backlog/blocked-items.json",
      "coordination/runtime/run-history.jsonl"
    ],
    "acceptance_criteria": [
      "At least one dependency-stalled queued item is made runnable or explicitly closed",
      "Blocked/obsolete queue artifacts are documented or consolidated",
      "Backlog no longer stalls immediately on next daemon run"
    ],
    "validation_commands": [
      "python tools/orchestrator.py status"
    ],
    "status": "validating",
    "retry_count": 0,
    "created_at": "2026-02-26T11:43:39.252657+00:00",
    "updated_at": "2026-02-26T11:46:09.683070+00:00",
    "estimated_effort": "S",
    "token_budget": 10000,
    "result_summary": null,
    "blocker_reason": null,
    "escalation_target": "Mara Voss",
    "auto_generated": "queue_stall_recovery",
    "stall_snapshot": [
      {
        "item_id": "RK-M0-0008",
        "title": "Wire client shell actions to first-slice backend contracts",
        "unmet_dependencies": [
          "RK-M0-0007"
        ],
        "blocked_dependencies": [
          "RK-M0-0007"
        ]
      },
      {
        "item_id": "RK-M0-0011",
        "title": "Add first-slice loop smoke checks across backend contracts and client actions",
        "unmet_dependencies": [
          "RK-M0-0007",
          "RK-M0-0008"
        ],
        "blocked_dependencies": [
          "RK-M0-0007"
        ]
      },
      {
        "item_id": "RK-M1-0005-F02-F01-ESC-F01",
        "title": "Add queued-item model-policy drift audit after policy updates",
        "unmet_dependencies": [
          "RK-M1-0004-F01-F01-F01-ESC-F01-F01"
        ],
        "blocked_dependencies": [
          "RK-M1-0004-F01-F01-F01-ESC-F01-F01"
        ]
      },
      {
        "item_id": "RK-M0-0012",
        "title": "Expose first-slice settlement loop contract endpoints",
        "unmet_dependencies": [
          "RK-M0-0007"
        ],
        "blocked_dependencies": [
          "RK-M0-0007"
        ]
      },
      {
        "item_id": "RK-M0-0013",
        "title": "Add action availability gating and cooldown feedback in client shell",
        "unmet_dependencies": [
          "RK-M0-0008",
          "RK-M0-0012"
        ],
        "blocked_dependencies": []
      },
      {
        "item_id": "RK-M0-0016",
        "title": "Automate first-slice visual smoke baselines across desktop/tablet/mobile",
        "unmet_dependencies": [
          "RK-M0-0011",
          "RK-M0-0013"
        ],
        "blocked_dependencies": []
      },
      {
        "item_id": "RK-M1-0005-F02-F01-ESC-F03-ESC-F01",
        "title": "Stabilize baseline unittest discover failures in daemon smoke and client scaffold tests",
        "unmet_dependencies": [
          "RK-M1-0005-F02-F01-ESC-F03"
        ],
        "blocked_dependencies": [
          "RK-M1-0005-F02-F01-ESC-F03"
        ]
      },
      {
        "item_id": "RK-AUTO-BACKLOG-0003-F01-F01",
        "title": "Finalize M2 hero definitions and shared ability modifier table",
        "unmet_dependencies": [
          "Vertical Slice Done v1 PASS"
        ],
        "blocked_dependencies": []
      },
      {
        "item_id": "RK-AUTO-BACKLOG-0003-F01-F02",
        "title": "Design hero UI wireframes for assignment, ability use, and cooldown feedback",
        "unmet_dependencies": [
          "Vertical Slice Done v1 PASS"
        ],
        "blocked_dependencies": []
      },
      {
        "item_id": "RK-AUTO-BACKLOG-0003-F01-F03",
        "title": "Plan backend hero runtime schema and combat hook integration",
        "unmet_dependencies": [
          "Vertical Slice Done v1 PASS"
        ],
        "blocked_dependencies": []
      }
    ],
    "assigned_agent": "mara-voss"
  }
]
